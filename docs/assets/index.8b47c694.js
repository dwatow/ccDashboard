var N=Object.defineProperty,B=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var j=(n,e,c)=>e in n?N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:c}):n[e]=c,t=(n,e)=>{for(var c in e||(e={}))E.call(e,c)&&j(n,c,e[c]);if(v)for(var c of v(e))L.call(e,c)&&j(n,c,e[c]);return n},i=(n,e)=>B(n,C(e));import{a as U,r as P,o as p,c as _,t as y,b as m,d as r,e as k,F as T,f as x,g as b,p as R,h as w,w as A,i as I,l as V,j as H,k as M,m as q}from"./vendor.27ebe9a1.js";const O=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function c(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(s){if(s.ep)return;s.ep=!0;const o=c(s);fetch(s.href,o)}};O();const D=U.create({baseURL:"https://my-god-render.onrender.com"});async function G(n){try{return(await D.get("/cc-update-staus",{params:n})).data}catch{return{isSync:1}}}var l={fetchUpdateStatus:G};const a={error:-1,init:null,syncable:0,success:1,connecting:2};var J=(n,e)=>{const c=n.__vccOpts||n;for(const[u,s]of e)c[u]=s;return c};const K={name:"CCDashboard",created(){},data(){return{all_erp_status:{ccerpF:{isSync:a.init,job:"ccerp",repo:"ccerp-frontend",name:"\u5168\u5F37 ERP \u524D\u7AEF (AngularJS)"},ccerpFV:{isSync:a.init,job:"ccerp",repo:"ccerp-frontend-vue",name:"\u5168\u5F37 ERP \u524D\u7AEF (Vue)"},ccerpB:{isSync:a.init,job:"ccerp",repo:"ccerp-backend",name:"\u5168\u5F37 ERP \u5F8C\u7AEF"},ccgeoF:{isSync:a.init,job:"ccgeo",repo:"ccgeo-frontend",name:"\u5927\u5730\u76E3\u63A7 \u524D\u7AEF"},ccgeoB:{isSync:a.init,job:"ccgeo",repo:"ccgeo-backend",name:"\u5927\u5730\u76E3\u63A7 \u5F8C\u7AEF"},jserpF:{isSync:a.init,job:"jserp",repo:"frontend",name:"\u90E1\u4FE1 ERP \u524D\u7AEF"},jserpB:{isSync:a.init,job:"jserp",repo:"backend",name:"\u90E1\u4FE1 ERP \u5F8C\u7AEF"},patronF:{isSync:a.init,job:"patron",repo:"frontend",name:"\u53F0\u7063\u5B88\u8B77 ERP \u524D\u7AEF"},patronB:{isSync:a.init,job:"patron",repo:"backend",name:"\u53F0\u7063\u5B88\u8B77 ERP \u5F8C\u7AEF"},prettyF:{isSync:a.init,job:"pretty",repo:"frontend",name:"\u53F0\u7063\u771F\u7F8E ERP \u524D\u7AEF"},prettyB:{isSync:a.init,job:"pretty",repo:"backend",name:"\u53F0\u7063\u771F\u7F8E ERP \u5F8C\u7AEF"},campF:{isSync:a.init,job:"easy-camp",repo:"frontend",name:"\u9732\u71DF\u6A02 ERP \u524D\u7AEF"},campB:{isSync:a.init,job:"easy-camp",repo:"backend",name:"\u9732\u71DF\u6A02 ERP \u5F8C\u7AEF"}},current_erp:{isSync:a.init},error:null}},updated(){this.$nextTick(()=>{this.removeH2Link(),this.removeNameLink()})},computed:{syncType:()=>a},methods:{setSyncType(n){Object.values(this.all_erp_status).forEach(e=>{e.isSync=a[n]})},fetchStatus(n){try{if(this.error="\u9023\u7DDA\u4E2D...",n==null)this.setSyncType("connecting"),l.fetchUpdateStatus({job:"ccerp",repo:"ccerp-frontend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{ccerpF:t(t({},this.all_erp_status.ccerpF),e)})}),l.fetchUpdateStatus({job:"ccerp",repo:"ccerp-frontend-vue"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{ccerpFV:t(t({},this.all_erp_status.ccerpFV),e)})}),l.fetchUpdateStatus({job:"ccerp",repo:"ccerp-backend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{ccerpB:t(t({},this.all_erp_status.ccerpB),e)})}),l.fetchUpdateStatus({job:"ccgeo",repo:"ccgeo-frontend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{ccgeoF:t(t({},this.all_erp_status.ccgeoF),e)})}),l.fetchUpdateStatus({job:"ccgeo",repo:"ccgeo-backend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{ccgeoB:t(t({},this.all_erp_status.ccgeoB),e)})}),l.fetchUpdateStatus({job:"jserp",repo:"frontend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{jserpF:t(t({},this.all_erp_status.jserpF),e)})}),l.fetchUpdateStatus({job:"jserp",repo:"backend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{jserpB:t(t({},this.all_erp_status.jserpB),e)})}),l.fetchUpdateStatus({job:"patron",repo:"frontend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{patronF:t(t({},this.all_erp_status.patronF),e)})}),l.fetchUpdateStatus({job:"patron",repo:"backend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{patronB:t(t({},this.all_erp_status.patronB),e)})}),l.fetchUpdateStatus({job:"pretty",repo:"frontend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{prettyF:t(t({},this.all_erp_status.prettyF),e)})}),l.fetchUpdateStatus({job:"pretty",repo:"backend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{prettyB:t(t({},this.all_erp_status.prettyB),e)})}),l.fetchUpdateStatus({job:"easy-camp",repo:"frontend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{campF:t(t({},this.all_erp_status.campF),e)})}),l.fetchUpdateStatus({job:"easy-camp",repo:"backend"}).then(e=>{e.isSync=Number(e.isSync),this.all_erp_status=i(t({},this.all_erp_status),{campB:t(t({},this.all_erp_status.campB),e)})});else{const e=this.all_erp_status[n],{job:c,repo:u}=e;e.isSync=a.connecting,console.log(e,n),l.fetchUpdateStatus({job:c,repo:u}).then(s=>{s.isSync=Number(s.isSync),this.all_erp_status=i(t({},this.all_erp_status),{[n]:t(t({},this.all_erp_status[n]),s)})})}this.error=null}catch(e){this.error=e}},update(n,e){this.current_erp=t({key:e},n)},removeH2Link(){document.querySelectorAll(".content h2").forEach(n=>{const e=n.querySelector("a");if(e!=null){const c=e.textContent;n.textContent=c}})},removeNameLink(){document.querySelectorAll(".content ol").forEach(n=>{const e=n.querySelector("a");if(e!=null){const c=e.textContent;[...n.querySelectorAll("a")].filter(s=>s.textContent===c).forEach(s=>s.outerHTML=s.textContent)}})}}},F=n=>(R("data-v-1066e6c4"),n=n(),w(),n),z={class:"container"},Q={key:0},W=b(" \u91CD\u65B0\u6574\u7406 "),X={class:"nav nav-tabs erp_status"},Y=["onClick"],Z={key:0,class:"badge rounded-pill bg-danger"},$=["onClick"],ee={key:2,class:"badge rounded-pill bg-success"},te={key:1,class:"content"},se=["href"],ne={class:"row"},ce={class:"col"},re=F(()=>r("h1",null,[r("span",{class:"col-6"},"\u6E2C\u8A66\u6A5F")],-1)),oe={class:"col-7"},ae=b(" \u6700\u5F8C\u66F4\u65B0: "),ie=["href"],le=["innerHTML"],pe={class:"col"},_e=F(()=>r("h1",null,[r("span",{class:"col-6"},"\u6B63\u5F0F\u6A5F")],-1)),ue={class:"col-7"},he=b(" \u6700\u5F8C\u66F4\u65B0: "),de=["href"],ye=["innerHTML"],me={key:2};function be(n,e,c,u,s,o){var g;const d=P("FontAwesomeIcon");return p(),_("div",z,[s.error?(p(),_("span",Q,y(s.error),1)):m("",!0),r("button",{type:"button",class:"btn btn-primary my-2 me-2",onClick:e[0]||(e[0]=h=>o.fetchStatus(null))},[W,k(d,{icon:"fa-solid fa-rotate-right"})]),r("nav",null,[r("ul",X,[(p(!0),_(T,null,x(s.all_erp_status,(h,f)=>(p(),_("li",{class:"nav-item",key:f},[r("a",{class:"nav-link active erp-name","aria-current":"page",onClick:S=>o.update(h,f)},[b(y(h.name)+" ",1),h.isSync===o.syncType.syncable?(p(),_("small",Z," \u5F85\u66F4\u65B0 ")):m("",!0),["init","error","syncable","success"].some(S=>o.syncType[S]===h.isSync)?(p(),_("button",{key:1,type:"button",class:"btn btn-outline-secondary my-2 mx-1 btn-sm",onClick:A(S=>o.fetchStatus(f),["prevent"])},[k(d,{icon:"fa-solid fa-rotate-right"})],8,$)):m("",!0),h.isSync===o.syncType.connecting?(p(),_("small",ee," \u9023\u7DDA\u4E2D ")):m("",!0)],8,Y)]))),128))])]),["syncable","success","error"].some(h=>o.syncType[h]===s.current_erp.isSync)?(p(),_("div",te,[r("a",{class:"btn btn-outline-success my-3",target:"_blank",href:s.current_erp.network},"Github Network",8,se),r("div",ne,[r("div",ce,[r("div",null,[re,r("p",null,[r("span",oe,[ae,r("a",{href:s.current_erp.lastest_stage.link},y(s.current_erp.lastest_stage.log),9,ie)])]),r("div",{innerHTML:s.current_erp.lastest_stage.html},null,8,le)])]),r("div",pe,[r("div",null,[_e,r("p",null,[r("span",ue,[he,r("a",{href:s.current_erp.lastest_prod.link},y(s.current_erp.lastest_prod.log),9,de)])]),r("div",{innerHTML:s.current_erp.lastest_prod.html},null,8,ye)])])])])):(p(),_("div",me,"("+y((g=s.current_erp)==null?void 0:g.name)+" \u8CC7\u6599\u8F09\u5165\u4E2D...)",1))])}var fe=J(K,[["render",be],["__scopeId","data-v-1066e6c4"]]);const Se={setup(n){return(e,c)=>(p(),I(fe))}};V.add(H);M(Se).component("FontAwesomeIcon",q).mount("#app");
